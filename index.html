<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ½˜å»ºæˆ - å…¨ç¨‹è¯Šç–—æ¡£æ¡ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
    <style>
        :root {
            --primary: #0284c7; /* æ·±å¤©è“ */
            --bg: #f1f5f9;
            --card-bg: #ffffff;
            --text-main: #0f172a;
            --text-light: #64748b;
            --danger: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --purple: #8b5cf6;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 16px;
            line-height: 1.6;
        }

        .container { max-width: 1200px; margin: 0 auto; }

        /* é¡¶éƒ¨å¡ç‰‡ */
        .header-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-left: 6px solid var(--primary);
        }
        .header-top { display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 10px; }
        .patient-name { font-size: 1.8rem; font-weight: 800; color: var(--text-main); margin: 0; }
        .patient-meta { color: var(--text-light); font-size: 0.95rem; margin-top: 5px; }
        
        .tag-group { display: flex; gap: 8px; flex-wrap: wrap; }
        .tag { padding: 4px 10px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        .tag-dx { background: #fee2e2; color: #991b1b; } /* è¯Šæ–­ */
        .tag-rx { background: #e0e7ff; color: #3730a3; } /* æ²»ç–— */
        .tag-his { background: #f3f4f6; color: #374151; } /* ç—…å² */
        .tag-green { background: #dcfce7; color: #15803d; } /* çŠ¶æ€è‰¯å¥½ */

        /* æ—¢å¾€å²å°æ–¹å— */
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #e2e8f0;
        }
        .hist-item { font-size: 0.9rem; }
        .hist-label { color: var(--text-light); font-size: 0.8rem; }

        /* é€šç”¨å¡ç‰‡ */
        .section-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .section-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--primary);
            display: flex;
            align-items: center;
        }
        .section-title::before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 18px;
            background: var(--primary);
            margin-right: 10px;
            border-radius: 3px;
        }

        /* è¯å“å¡ç‰‡æ ·å¼ */
        .med-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }
        .med-box {
            padding: 16px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            background: #fff;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s;
        }
        .med-box:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .med-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
        }
        .med-tumor { background: #f0f9ff; border-color: #bae6fd; }
        .med-tumor::before { background: var(--primary); }
        
        .med-virus { background: #f0fdf4; border-color: #bbf7d0; }
        .med-virus::before { background: var(--success); }
        
        .med-chronic { background: #fffbeb; border-color: #fde68a; }
        .med-chronic::before { background: var(--warning); }
        
        .med-immune { background: #f3e8ff; border-color: #d8b4fe; }
        .med-immune::before { background: var(--purple); }

        .med-name { font-weight: 700; font-size: 1.1rem; color: var(--text-main); display: flex; align-items: center; justify-content: space-between;}
        .med-desc { font-size: 0.85rem; color: var(--text-light); margin-top: 2px; margin-bottom: 10px; }
        .med-tag { 
            display: inline-block; 
            font-size: 0.75rem; 
            padding: 2px 8px; 
            border-radius: 4px; 
            background: rgba(255,255,255,0.8); 
            border: 1px solid rgba(0,0,0,0.05);
            font-weight: 600;
        }
        .med-tumor .med-tag { color: var(--primary); }
        .med-virus .med-tag { color: var(--success); }
        .med-chronic .med-tag { color: #b45309; }
        .med-immune .med-tag { color: var(--purple); }
        
        .med-dose { 
            font-size: 0.95rem; 
            font-weight: 700; 
            margin-top: 8px; 
            padding-top: 8px;
            border-top: 1px dashed rgba(0,0,0,0.1);
            color: var(--text-main);
        }

        /* æ²»ç–—æ—¶é—´è½´ */
        .timeline {
            position: relative;
            padding-left: 30px;
            border-left: 2px solid #e2e8f0;
        }
        .tl-item { margin-bottom: 25px; position: relative; }
        .tl-item::after {
            content: '';
            position: absolute;
            left: -37px;
            top: 6px;
            width: 12px;
            height: 12px;
            background: #fff;
            border: 3px solid var(--primary);
            border-radius: 50%;
        }
        .tl-date { font-weight: 700; color: var(--text-main); font-size: 1rem; }
        .tl-content { background: #f8fafc; padding: 10px 15px; border-radius: 8px; margin-top: 5px; border: 1px solid #e2e8f0; }
        .tl-tag { display: inline-block; font-size: 0.75rem; padding: 2px 6px; border-radius: 4px; margin-bottom: 4px; }
        
        /* æ ¸å¿ƒæˆ˜æœçœ‹æ¿æ ·å¼ */
        .highlight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
        }
        .stat-box {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        .stat-label { font-size: 0.85rem; color: var(--text-light); margin-bottom: 4px; }
        .stat-val { font-size: 1.6rem; font-weight: 800; line-height: 1.2; margin: 8px 0; }
        .trend-down { color: var(--success); }
        .trend-bad { color: var(--danger); }

        /* å½±åƒå­¦å¯¹æ¯”è¡¨æ ¼ */
        .img-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        .img-box {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
        }
        .img-date { font-weight: bold; color: var(--primary); margin-bottom: 5px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .img-desc { font-size: 0.9rem; color: #334155; line-height: 1.5; }
        .key-point { color: var(--danger); font-weight: 600; }

        /* å›¾è¡¨åŒº */
        .charts-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
        }
        .chart-box { 
            background: #fff;
            border-radius: 8px;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }
        .canvas-holder {
            height: 300px;
            position: relative;
            width: 100%;
        }
        
        .chart-legend {
            font-size: 0.85rem;
            color: #475569;
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 6px;
            line-height: 1.4;
            background: #f8fafc;
        }
        .chart-legend strong { display: block; margin-bottom: 2px; color: #1e293b; }
        .chart-legend.info { border-left: 4px solid #94a3b8; background: #f1f5f9; }
        .chart-legend.warning { border-left: 4px solid #ef4444; background: #fef2f2; }


        /* æ»šåŠ¨è¡¨æ ¼ */
        .table-container {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; white-space: nowrap; }
        th, td { padding: 8px 12px; text-align: center; border-bottom: 1px solid #eee; }
        th { background: #f1f5f9; font-weight: 600; position: sticky; left: 0; z-index: 10; }
        tr:nth-child(even) { background-color: #fcfcfc; }
        .col-key { background-color: #eff6ff; font-weight: bold; color: var(--primary); }
        
        .abnormal { color: var(--danger); font-weight: bold; }

        /* å’¨è¯¢é‡ç‚¹ */
        .qa-list li { margin-bottom: 12px; }
        .qa-tag { background: var(--warning); color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 0.8rem; margin-right: 5px; }

        /* æ–°å¢ï¼šç»¼è¿°ç½‘æ ¼å¸ƒå±€ */
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        .overview-box {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .ov-title {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 1px solid rgba(0,0,0,0.06);
            display: flex;
            align-items: center;
        }
        .ov-list {
            margin: 0;
            padding-left: 18px;
            font-size: 0.9rem;
            color: #475569;
        }
        .ov-list li { margin-bottom: 6px; }
        .ov-list li:last-child { margin-bottom: 0; }
        .ov-label { font-weight: 600; color: var(--text-main); margin-right: 4px; }

        @media (max-width: 768px) {
            .header-top { flex-direction: column; }
            .charts-wrapper { grid-template-columns: 1fr; }
            .overview-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">

    <!-- 1. æ‚£è€…åŸºæœ¬ä¿¡æ¯ -->
    <div class="header-card">
        <div class="header-top">
            <div>
                <h1 class="patient-name">æ½˜å»ºæˆ <span style="font-size:1.2rem; font-weight:400; color:#64748b;">(ç”·, 65å²)</span></h1>
                <div class="patient-meta">æœ€è¿‘å¤æŸ¥ï¼š2026-01-29 (æœ¯å3å‘¨) | BMI: 23.8</div>
            </div>
            <div class="tag-group">
                <span class="tag tag-dx">åŸå‘æ€§è‚ç™Œ (CNLC IIIaæœŸ)</span>
                <span class="tag tag-dx">S8å·¨å—å‹</span>
                <span class="tag tag-dx">é—¨è„‰ç™Œæ “</span>
                <span class="tag tag-rx">é’‡90æœ¯å</span>
                <span class="tag tag-rx">é¶å‘æ²»ç–—ä¸­</span>
                <span class="tag tag-green">ECOG 0</span>
                <span class="tag tag-green">Child-Pugh A</span>
            </div>
        </div>
        
        <div class="history-grid">
            <div class="hist-item">
                <div class="hist-label">ä¹™è‚ç—…å²</div>
                <div>30å¹´ (å°ä¸‰é˜³)</div>
                <div style="font-size:0.8rem; color:var(--success)">TAFæ²»ç–—ä¸­, HBV DNA&lt;30</div>
            </div>
            <div class="hist-item">
                <div class="hist-label">ç³–å°¿ç—…</div>
                <div>22å¹´</div>
                <div style="font-size:0.8rem; color:var(--text-light)">æ³¨å°„èƒ°å²›ç´ </div>
            </div>
            <div class="hist-item">
                <div class="hist-label">é«˜è¡€å‹</div>
                <div>5å¹´</div>
                <div style="font-size:0.8rem; color:var(--text-light)">æ§åˆ¶å°šå¯</div>
            </div>
            <div class="hist-item">
                <div class="hist-label">å…¶ä»–</div>
                <div>èƒ†å›Šç»“çŸ³, å·¦è‚¾å›Šè‚¿</div>
                <div>å‰åˆ—è…ºå¢ç”Ÿ</div>
            </div>
        </div>
    </div>

    <!-- 2. ç—…æƒ…ä¸æ²»ç–—ç»¼è¿° (Overview) -->
    <div class="section-card" style="border-top: 4px solid var(--primary);">
        <div class="section-title">ç—…æƒ…ä¸æ²»ç–—ç»¼è¿°</div>
        <div class="overview-grid">
            <!-- è¯Šæ–­ä¸æ²»ç–— (åˆå¹¶ç‰ˆ) -->
            <div class="overview-box">
                <div class="ov-title" style="color:var(--primary)">è¯Šæ–­ä¸æ²»ç–—</div>
                <ul class="ov-list">
                    <li><span class="tl-tag" style="background:#fee2e2; color:#991b1b">è¯Šæ–­</span> åŸå‘HCC (IIIaæœŸ)ï¼šS8(6.6cm) + S1(9mm)</li>
                    <li><span class="tl-tag" style="background:#fee2e2; color:#991b1b">è¯Šæ–­</span> é—¨è„‰ç™Œæ “(Vp1)ï¼šå³å‰ä¸ŠèƒŒä¾§æ”¯</li>
                    <li><span class="tl-tag" style="background:#fee2e2; color:#991b1b">è¯Šæ–­</span> ä¹™è‚è‚ç¡¬åŒ–(Child A)ï¼Œå…ç–«æŠ‘åˆ¶</li>
                    <li><span class="tl-tag" style="background:#e0e7ff; color:#3730a3">æ²»ç–—</span> [å±€éƒ¨] é’‡90ä»‹å…¥S8/S1ç—…ç¶ (3GBq)</li>
                    <li><span class="tl-tag" style="background:#e0e7ff; color:#3730a3">æ²»ç–—</span> [å…¨èº«] ä»‘ä¼æ›¿å°¼(12mg) + TAF</li>
                    <li><span class="tl-tag" style="background:#e0e7ff; color:#3730a3">æ²»ç–—</span> [å…ç–«] èƒ¸è…ºæ³•æ–°</li>


                </ul>
            </div>

            <!-- ç–—æ•ˆ -->
            <div class="overview-box" style="background:#f0fdf4; border-color:#bbf7d0;">
                <div class="ov-title" style="color:#15803d;">è¿‘æœŸç–—æ•ˆ (æœ¯å3å‘¨)</div>
                <ul class="ov-list">
                    <li><span class="ov-label">ç”ŸåŒ–å®Œå…¨åº”ç­”ï¼š</span>PIVKA-II <span style="color:#15803d; font-weight:bold;">â†“99.5%</span> (9862â†’45.2)ï¼›AFP <span style="color:#15803d; font-weight:bold;">â†“95%</span> (437â†’22.5)ã€‚</li>
                    <li><span class="ov-label">å½±åƒï¼š</span>æœ¯åSPECTç¤ºè‚¿ç˜¤æµ“èšè‰¯å¥½ï¼Œæœ‰æ‰©è¾¹æ•ˆåº”ã€‚</li>
                </ul>
            </div>

            <!-- é—®é¢˜ -->
            <div class="overview-box" style="background:#fef2f2; border-color:#fecaca;">
                <div class="ov-title" style="color:#991b1b;">å½“å‰é—®é¢˜</div>
                <ul class="ov-list">
                    <li><span class="ov-label">å…ç–«æŠ‘åˆ¶ï¼š</span>æ·‹å·´ç»†èƒ 0.19 (IVåº¦)ï¼Œé™åˆ¶äº†PD-1å¯åŠ¨ã€‚</li>
                    <li><span class="ov-label">é¡½å›ºæŒ‡æ ‡ï¼š</span>AFP-L3% ä»é«˜ (32%)ï¼Œæç¤ºæ®‹ç•™æ¶æ€§å…‹éš†ã€‚</li>
                    <li><span class="ov-label">åˆå¹¶ç—‡ï¼š</span>æœ¯åæ›¾æœ‰æ°´æ ·è…¹æ³» (å·²ç¼“è§£)ï¼›è¡€å°æ¿ç¼“æ…¢ä¸‹é™ (106)ã€‚</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 3. æ ¸å¿ƒæˆ˜æœçœ‹æ¿ (Results - Metrics) -->
    <div class="section-card">
        <div class="section-title" style="flex-wrap: wrap;">
            <span>æ ¸å¿ƒæŒ‡æ ‡è¿½è¸ª <small style="color:var(--text-light); font-weight:400; font-size: 0.9rem;">(æœ¯å3å‘¨ vs å³°å€¼)</small></span>
            <span style="font-size:0.85rem; color:var(--text-light); font-weight:400; margin-left: auto;">ç›®æ ‡ï¼šè‚¿ç˜¤é™æœŸ/æ‰‹æœ¯è½¬åŒ–</span>
        </div>
        <div class="highlight-grid">
            <div class="stat-box">
                <div class="stat-label">PIVKA-II (å¼‚å¸¸å‡è¡€é…¶åŸ)</div>
                <div class="stat-val trend-down">45.2</div>
                <div class="stat-label">â†“99.5% (å³°å€¼: 9862)</div>
                <div class="stat-label" style="color:var(--success)">æ¥è¿‘æ­£å¸¸ (ç›®æ ‡: &lt;40)</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">AFP (ç”²èƒè›‹ç™½)</div>
                <div class="stat-val trend-down">22.53</div>
                <div class="stat-label">â†“94.8% (å³°å€¼: 437)</div>
                <div class="stat-label" style="color:var(--success)">æ¥è¿‘æ­£å¸¸ (ç›®æ ‡: &lt;7)</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">AFP-L3% (å¼‚è´¨ä½“)</div>
                <div class="stat-val trend-bad">32.4%</div>
                <div class="stat-label">â†“6.4% (å³°å€¼: 38.8%)</div>
                <div class="stat-label" style="color:var(--danger)">å¼‚å¸¸ (ç›®æ ‡: &lt;10%)</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">æ·‹å·´ç»†èƒç»å¯¹å€¼</div>
                <div class="stat-val trend-bad">0.19</div>
                <div class="stat-label">æä½ (æœ€ä½0.13)</div>
                <div class="stat-label" style="color:var(--warning)">å›å‡è¶‹åŠ¿ä¸­â†— (ç›®æ ‡: &gt;1.1)</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">è¡€å°æ¿ (PLT)</div>
                <div class="stat-val trend-bad">106</div>
                <div class="stat-label">åä½ (åŸºçº¿: 140)</div>
                <div class="stat-label">ç›‘æµ‹å‡ºè¡€é£é™©</div>
            </div>
        </div>
    </div>

    <!-- 4. å…³é”®æŒ‡æ ‡è¶‹åŠ¿å›¾è¡¨ (Results - Charts) -->
    <div class="section-card">
        <div class="section-title">å…³é”®æŒ‡æ ‡è¶‹åŠ¿åˆ†æ</div>
        <div class="charts-wrapper">
            <!-- è‚¿ç˜¤æ ‡å¿—ç‰© -->
            <div class="chart-box">
                <div class="canvas-holder">
                    <canvas id="tumorChart"></canvas>
                </div>
            </div>

            <!-- è‚åŠŸèƒ½ -->
            <div class="chart-box">
                <div class="canvas-holder">
                    <canvas id="liverChart"></canvas>
                </div>
            </div>
            
            <!-- å…ç–«çŠ¶æ€ (å¸¦æ³¨è§£) -->
            <div class="chart-box">
                <div class="canvas-holder">
                    <canvas id="immuneChart"></canvas>
                </div>
                <div class="chart-legend info">
                    <strong>å›¾æ³¨ï¼šç°çº¿ (0.8) - PD-1å¯åŠ¨åŸºçº¿</strong>
                    <span>æ·‹å·´ç»†èƒéœ€æ¢å¤è‡³ >0.8 (ç†æƒ³>1.1) æ–¹å¯å¯åŠ¨ PD-1 å…ç–«æ²»ç–—ï¼Œä½äºæ­¤æ•°å€¼æ²»ç–—å¯èƒ½æ— æ•ˆæˆ–å¼•å‘é£é™©ã€‚</span>
                </div>
            </div>

            <!-- è¡€å°æ¿ (å¸¦æ³¨è§£) -->
            <div class="chart-box">
                <div class="canvas-holder">
                    <canvas id="pltChart"></canvas>
                </div>
                <div class="chart-legend warning">
                    <strong>å›¾æ³¨ï¼šçº¢çº¿ (75) - å‡é‡è­¦æˆ’çº¿</strong>
                    <span>è‹¥è¡€å°æ¿è·Œç ´ 75ï¼Œå‡ºè¡€é£é™©æ˜¾è‘—å¢åŠ ã€‚éœ€è€ƒè™‘æš‚åœä»‘ä¼æ›¿å°¼æˆ–å‡é‡ï¼ˆ12mg â†’ 8mgï¼‰ç›´è‡³è¡€å°æ¿å›å‡ã€‚</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 5. å½±åƒå­¦å¯¹æ¯” (Results - Imaging) -->
    <div class="section-card">
        <div class="section-title">å…³é”®å½±åƒå­¦æ¼”å˜</div>
        <div class="img-grid">
            <div class="img-box">
                <div class="img-date">2025.12.05 (å¤–é™¢å¢å¼ºMRI)</div>
                <div class="img-desc">
                    1. è‚é¡¶S8è‚¿å— <span class="key-point">52mm</span>ã€‚<br>
                    2. <span class="key-point">å±€éƒ¨ä¾µçŠ¯é—¨é™è„‰å³åæ”¯</span>ã€‚<br>
                    3. å°¾çŠ¶å¶(S1) 9mm ç»“èŠ‚ã€‚<br>
                    4. è…¹è†œåæ·‹å·´ç»“è‚¿å¤§ã€‚
                </div>
            </div>
            <div class="img-box">
                <div class="img-date">2025.12.19 (å…¥é™¢å‰PET-CT)</div>
                <div class="img-desc">
                    1. S8è‚¿å— FDGé«˜ä»£è°¢ (SUVmax 8.3)ã€‚<br>
                    2. S1ç»“èŠ‚ SUVmax 3.2 (<span class="key-point">ç–‘ä¼¼æ´»æ€§ç—…ç¶</span>)ã€‚<br>
                    3. çºµéš”4Ræ·‹å·´ç»“ SUV 3.9 (ååº”æ€§å¢ç”Ÿ)ã€‚<br>
                </div>
            </div>

            <div class="img-box">
                <div class="img-date">2025.12.25 (å¢å¼ºCT+è¶…å£°é€ å½±)</div>
                <div class="img-desc">
                    1. å¢å¼ºCT: å³è‚S8æ®µ <span class="key-point">66x55mm</span> ä½å¯†åº¦ç¶ï¼Œå‘ˆâ€œå¿«è¿›å¿«å‡ºâ€ï¼Œä¼´åæ­»ï¼Œ<span class="key-point">è‚å³é™è„‰å—ä¾µã€‚</span><br>
                    2. è¶…å£°é€ å½±: <span class="key-point">é—¨è„‰å³å‰ä¸ŠèƒŒä¾§æ”¯ç™Œæ “</span>ã€‚<br>
                    3. åŸºç¡€ï¼šè‚ç¡¬åŒ–ï¼Œè„¾å¤§ã€‚
                </div>
            </div>

            <div class="img-box">
                <div class="img-date">2025.12.29 (é’‡90æœ¯å‰SPECT)</div>
                <div class="img-desc">
                    1. æ‘„å–è‰¯å¥½: ç¤ºè¸ªå‰‚ä¸å‡åŒ€æµ“èšï¼ŒT/N æ¯”å€¼ <span class="key-point" style="color:var(--success)">5.9</span>ã€‚<br>
                    2. å®‰å…¨æ€§: è‚ºåˆ†æµç‡(LSF) <span class="key-point" style="color:var(--success)">7.0%</span> (ä½é£é™©)ã€‚<br>
                    3. ç»“è®ºï¼šé€‚åˆè¡Œé’‡90å†…æ”¾å°„æ²»ç–—ã€‚
                </div>
            </div>

            <!-- 2026.01.08 é’‡90æœ¯åéªŒè¯ -->
            <div class="img-box" style="border-color: #10b981; background: #f0fdf4;">
                <div class="img-date" style="color: #047857;">2026.01.08 (é’‡90æœ¯åSPECT)</div>
                <div class="img-desc">
                    1. å³è‚ç—…å˜å†…ç¤ºè¸ªå‰‚<span class="key-point" style="color:var(--success)">æ˜æ˜¾æµ“èš</span>ã€‚<br>
                    2. åŒè‚ºåŠè‚å¤–è…¹éƒ¨è„å™¨<span class="key-point" style="color:var(--success)">æœªè§ç¤ºè¸ªå‰‚æ‘„å–</span> (æ— å¼‚ä½æ “å¡)ã€‚<br>
                    3. ç»“è®ºï¼šæ‰‹æœ¯é¡ºåˆ©ï¼Œè¯ç‰©ç²¾å‡†æ¤å…¥ç˜¤ä½“ã€‚
                </div>
            </div>

            <div class="img-box" style="background:#f0f9ff; border-color:#2563eb;">
                <div class="img-date">2026.01.29 (æ²»ç–—ååº”)</div>
                <div class="img-desc">
                    <strong>ç”Ÿç‰©å­¦ååº”ï¼š</strong> PIVKA-II é™è‡³ 45.2ï¼ŒAFP é™è‡³ 22.5ã€‚<br>
                    <strong>æ¨æ–­ï¼š</strong> è‚¿ç˜¤æ´»æ€§å·²è¢«å¤§å¹…æŠ‘åˆ¶ï¼Œå¤„äºåæ­»å¸æ”¶æœŸã€‚
                </div>
            </div>
        </div>
    </div>

    <!-- 6. æ²»ç–—å…¨è¿‡ç¨‹æ—¶é—´è½´ (History/Context) -->
    <div class="section-card">
        <div class="section-title">å…³é”®æ²»ç–—æ—¶é—´è½´</div>
        <div class="timeline">
            <div class="tl-item">
                <div class="tl-date">2026.01.29 (æœ¯å3å‘¨)</div>
                <div class="tl-content">
                    <span class="tl-tag" style="background:#d1fae5; color:#065f46">å¤æŸ¥</span>
                    <strong>PIVKA-II é™è‡³ 45.2 (æ¥è¿‘æ­£å¸¸)</strong>ï¼›AFP é™è‡³ 22.5ã€‚æ·‹å·´ç»†èƒè§¦åº•å¾®å‡(0.19)ï¼Œè…¹æ³»å¥½è½¬ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2026.01.22 (æœ¯å2å‘¨)</div>
                <div class="tl-content">
                    <span class="tl-tag" style="background:#fee2e2; color:#991b1b">è­¦æŠ¥</span>
                    æ·‹å·´ç»†èƒæœ€ä½è°· (0.13)ï¼Œå‡ºç°æ°´æ ·è…¹æ³»ã€‚PIVKA-II æš´è·Œè‡³ 124ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2026.01.15 (æœ¯å1å‘¨)</div>
                <div class="tl-content">
                    <span class="tl-tag" style="background:#e0e7ff; color:#3730a3">æ¢å¤ç”¨è¯</span>
                    æœ¯åæ¢å¤æœç”¨ <strong>ä»‘ä¼æ›¿å°¼ (8mg->12mg Qd)</strong>ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2026.01.08 (T0)</div>
                <div class="tl-content">
                    <span class="tl-tag tag-rx">å…³é”®æ‰‹æœ¯</span>
                    <strong>é’‡90å¾®çƒä»‹å…¥æ²»ç–—</strong> (S8æ®µ/S1æ®µ, 3 GBq)ã€‚æœ¯åSPECTæ˜¾ç¤ºè‚¿ç˜¤æµ“èšè‰¯å¥½ï¼Œæ— å¼‚ä½æ “å¡ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2026.01.05 (æœ¯å‰3å¤©)</div>
                <div class="tl-content">
                    <span class="tl-tag" style="background:#f3f4f6; color:#374151">åœè¯</span>
                    ä¸ºé…åˆä»‹å…¥æ‰‹æœ¯ï¼Œæš‚åœæœç”¨ä»‘ä¼æ›¿å°¼ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2025.12.30</div>
                <div class="tl-content">
                    <span class="tl-tag tag-rx">å¯åŠ¨è¯ç‰©</span>
                    å¼€å§‹æœç”¨ <strong>ä»‘ä¼æ›¿å°¼ (8mg->12mg Qd)</strong>ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2025.12.05</div>
                <div class="tl-content">
                    <span class="tl-tag tag-dx">ç¡®è¯Š</span>
                    å¢å¼ºMRIç¡®è¯Šï¼šè‚é¡¶S8(52mm) + é—¨è„‰å³åæ”¯ç™Œæ “(ç»è‚è„é€ å½±è¯å®åº”ä¸ºå³å‰ä¸ŠèƒŒä¾§æ”¯) + è‚å°¾é¡µS1(9mm)ç»“èŠ‚ã€‚
                </div>
            </div>
            <div class="tl-item">
                <div class="tl-date">2025.09.08</div>
                <div class="tl-content">
                    <span class="tl-tag tag-his">é¢„è­¦</span>
                    ä½“æ£€å‘ç° AFP å‡é«˜ (233)ï¼Œè¶…å£°æç¤ºç»“èŠ‚ (æœªè¿›ä¸€æ­¥å¤„ç†)ã€‚
                </div>
            </div>
        </div>
    </div>

    <!-- 7. å½“å‰ç”¨è¯æ–¹æ¡ˆ (Context) -->
    <div class="section-card">
        <div class="section-title">å½“å‰ç”¨è¯æ–¹æ¡ˆ</div>
        <div class="med-grid">
            <div class="med-box med-tumor">
                <div class="med-name">ä»‘ä¼æ›¿å°¼ <span style="font-size:1.2rem">ğŸ’Š</span></div>
                <div class="med-desc">Lenvatinib (ä¹å«ç›)</div>
                <div class="med-tag">æ ¸å¿ƒæŠ—è‚¿ç˜¤</div>
                <div class="med-dose">12mg (3ç²’) / æ¯æ—¥1æ¬¡</div>
            </div>
            
            <div class="med-box med-immune">
                <div class="med-name">èƒ¸è…ºæ³•æ–° <span style="font-size:1.2rem">ğŸ›¡ï¸</span></div>
                <div class="med-desc">Thymalfasin (æ—¥è¾¾ä»™)</div>
                <div class="med-tag">å…ç–«è°ƒèŠ‚</div>
                <div class="med-dose">1.6mg / æ¯2å¤©</div>
            </div>

            <div class="med-box med-virus">
                <div class="med-name">ä¸™é…šæ›¿è¯ºç¦éŸ¦ <span style="font-size:1.2rem">ğŸ¦ </span></div>
                <div class="med-desc">TAF (éŸ¦ç«‹å¾—)</div>
                <div class="med-tag">ä¹™è‚æŠ—ç—…æ¯’</div>
                <div class="med-dose">25mg / æ¯æ—¥1æ¬¡</div>
            </div>

            <div class="med-box med-chronic">
                <div class="med-name">é—¨å†¬èƒ°å²›ç´ 30 <span style="font-size:1.2rem">ğŸ’‰</span></div>
                <div class="med-desc">Insulin Aspart 30 (è¯ºå’Œé”30)</div>
                <div class="med-tag">ç³–å°¿ç—…æ§åˆ¶</div>
                <div class="med-dose">çš®ä¸‹æ³¨å°„ (éµåŒ»å˜±)</div>
            </div>

            <div class="med-box med-chronic">
                <div class="med-name">æ°¨æ°¯åœ°å¹³ <span style="font-size:1.2rem">â¤ï¸</span></div>
                <div class="med-desc">Amlodipine (ç»œæ´»å–œ)</div>
                <div class="med-tag">é™è¡€å‹</div>
                <div class="med-dose">5mg / æ¯æ—¥1æ¬¡</div>
            </div>
        </div>
    </div>

    <!-- 8. å¤æŸ¥å’¨è¯¢æ¸…å• (Questions) -->
    <div class="section-card" style="border-left: 6px solid var(--purple);">
        <div class="section-title" style="color:var(--purple); margin-bottom:10px;">å¤æŸ¥å’¨è¯¢æ¸…å•</div>
        <ul class="qa-list" style="padding-left:20px;">
            <li><span class="qa-tag">å…ç–«</span> æ·‹å·´ç»†èƒä»…0.19ï¼Œæ˜¯å¦éœ€è¦åŠ å¤§<strong>èƒ¸è…ºæ³•æ–°</strong>å‰‚é‡ï¼ˆæ¯æ—¥1æ¬¡ï¼‰ï¼Ÿ</li>
            <li><span class="qa-tag">å…ç–«</span> è€ƒè™‘è¿›è¡Œ<strong>å¼‚ä½“ NKT/Î³Î´T ç»†èƒå›è¾“</strong>ï¼Œè¯·è¯„ä¼°æœ€ä½³ä»‹å…¥æ—¶é—´ã€‚</li>
            <li><span class="qa-tag">ç”¨è¯</span> <strong>PD-1 (æ›¿é›·åˆ©ç å•æŠ—)</strong> çš„å¯åŠ¨æ—¶æœºå’Œæ ‡å‡†ï¼ˆæ·‹å·´ç»†èƒéœ€è¾¾åˆ°å¤šå°‘ï¼Ÿå…¶ä»–ï¼Ÿï¼‰</li>
            <li><span class="qa-tag">æ£€æŸ¥</span> é™¤äº†è‚é¡¶S8ä¸»ç—…ç¶ï¼Œ<strong>å°¾çŠ¶å¶S1é«˜ä»£è°¢9mmç»“èŠ‚</strong>ï¼ˆPET SUV 3.2ï¼‰æ˜¯å¦å—æ§ï¼Ÿ</li>
            <li><span class="qa-tag">æ£€æŸ¥</span> <strong>è‚å³é™è„‰</strong>ï¼ˆæœ¯å‰å¢å¼ºCTï¼‰ã€<strong>é—¨é™è„‰å³å‰ä¸ŠèƒŒä¾§æ”¯</strong>ï¼ˆæœ¯å‰é—¨è„‰è¶…å£°/è„å™¨è¶…å£°é€ å½±ï¼‰ç™Œæ “æ˜¯å¦å—æ§ï¼Ÿ</li>
            <li><span class="qa-tag">æŒ‡æ ‡</span> AFP-L3%ä¸‹é™è¾ƒå°‘ï¼ˆ38.8% -> 32%ï¼‰ï¼Œæ˜¯å¦æ„å‘³ç€é—¨è„‰ç™Œæ “/å°¾çŠ¶å¶S1æ®‹ä½™ï¼Ÿ</li>
            <li><span class="qa-tag">å®‰å…¨</span> è¡€å°æ¿å‘ˆä¸‹é™è¶‹åŠ¿ (106)ï¼Œå¦‚æœè·Œç ´75ï¼Œä»‘ä¼æ›¿å°¼æ˜¯å¦å‡é‡ï¼Ÿ</li>
            <li><span class="qa-tag">å…¶ä»–</span> CTCå¾ªç¯è‚¿ç˜¤ç»†èƒæ£€éªŒã€ICG-R15è¯•éªŒã€æ®‹è‚ä½“ç§¯ï¼ˆFLR/SLVï¼‰æ²¡æœ‰ç”µå­æˆ–çº¸è´¨æŠ¥å‘Šï¼Œéœ€è¦ç›¸å…³æ•°æ®å¤‡ç”¨ã€‚</li>
        </ul>
    </div>

    <!-- 9. è¯¦ç»†æ•°æ®è¡¨ (Raw Data) -->
    <div class="section-card">
        <div class="section-title">å…¨é‡æ£€éªŒæ•°æ®è¡¨ (å¯å·¦å³æ»‘åŠ¨)</div>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th style="min-width:120px;">é¡¹ç›®</th>
                        <th>å‚è€ƒå€¼</th>
                        <th>25.09.08<br><small>åŸºçº¿</small></th>
                        <th>25.12.03<br><small>ç¡®è¯Š</small></th>
                        <th>25.12.26<br><small>ç”¨è¯å‰</small></th>
                        <th class="col-key">26.01.08<br><small>T0æ‰‹æœ¯</small></th>
                        <th>26.01.12<br><small>æœ¯å1å‘¨</small></th>
                        <th>26.01.22<br><small>æœ¯å2å‘¨</small></th>
                        <th class="col-key">26.01.29<br><small>æœ¯å3å‘¨</small></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>PIVKA-II</td>
                        <td>&lt;40</td>
                        <td>-</td>
                        <td>-</td>
                        <td class="abnormal">6400</td>
                        <td class="abnormal">9862</td>
                        <td class="abnormal">2239</td>
                        <td class="abnormal">124</td>
                        <td style="color:var(--success); font-weight:bold;">45.2</td>
                    </tr>
                    <tr>
                        <td>AFP</td>
                        <td>0-7</td>
                        <td class="abnormal">233</td>
                        <td class="abnormal">398</td>
                        <td class="abnormal">437</td>
                        <td class="abnormal">239</td>
                        <td class="abnormal">134</td>
                        <td class="abnormal">49</td>
                        <td style="color:var(--success); font-weight:bold;">22.5</td>
                    </tr>
                    <tr>
                        <td>AFP-L3%</td>
                        <td>&lt;10%</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td class="abnormal">38.8%</td>
                        <td class="abnormal">32.4%</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>æ·‹å·´ç»†èƒ#</td>
                        <td>1.1-3.2</td>
                        <td class="abnormal">0.66</td>
                        <td class="abnormal">0.45</td>
                        <td class="abnormal">0.59</td>
                        <td class="abnormal">0.27</td>
                        <td class="abnormal">0.20</td>
                        <td class="abnormal">0.13</td>
                        <td class="abnormal">0.19</td>
                    </tr>
                    <tr>
                        <td>ä¸­æ€§ç²’ç»†èƒ#</td>
                        <td>1.8-6.3</td>
                        <td class="abnormal">1.68</td>
                        <td>1.87</td>
                        <td class="abnormal">1.37</td>
                        <td>2.25</td>
                        <td>2.69</td>
                        <td>2.09</td>
                        <td>1.93</td>
                    </tr>
                    <tr>
                        <td>è¡€å°æ¿ (PLT)</td>
                        <td>125-350</td>
                        <td class="abnormal">108</td>
                        <td>137</td>
                        <td class="abnormal">121</td>
                        <td>139</td>
                        <td>159</td>
                        <td>140</td>
                        <td class="abnormal">106</td>
                    </tr>
                    <tr>
                        <td>ALT (è°·ä¸™)</td>
                        <td>9-60</td>
                        <td>18</td>
                        <td>15</td>
                        <td>20</td>
                        <td>15.5</td>
                        <td>25</td>
                        <td>25</td>
                        <td>26</td>
                    </tr>
                    <tr>
                        <td>TBil (æ€»èƒ†)</td>
                        <td>5-28</td>
                        <td>21.7</td>
                        <td>13.5</td>
                        <td>14.9</td>
                        <td>14.5</td>
                        <td>24.0</td>
                        <td>17.2</td>
                        <td>24.1</td>
                    </tr>
                    <tr>
                        <td>ALB (ç™½è›‹ç™½)</td>
                        <td>40-55</td>
                        <td>50.8</td>
                        <td>52.5</td>
                        <td>46.1</td>
                        <td>44.2</td>
                        <td>44.8</td>
                        <td>45.4</td>
                        <td>49.1</td>
                    </tr>
                    <tr>
                        <td>INR (å›½é™…æ ‡å‡†åŒ–æ¯”å€¼)</td>
                        <td>0.8-1.3</td>
                        <td>-</td>
                        <td>1.06</td>
                        <td>1.05</td>
                        <td>-</td>
                        <td>1.07</td>
                        <td>1.11</td>
                        <td>1.12</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

<script>
    const dates = ['25.09.08', '25.12.03', '25.12.26', '26.01.08', '26.01.12', '26.01.22', '26.01.29'];

    // 1. è‚¿ç˜¤æ ‡å¿—ç‰©
    new Chart(document.getElementById('tumorChart'), {
        type: 'line',
        data: {
            labels: dates,
            datasets: [
                {
                    label: 'PIVKA-II (å³è½´-å¯¹æ•°)',
                    data: [null, null, 6400, 9862, 2239, 124, 45.2],
                    borderColor: '#ef4444',
                    backgroundColor: '#ef4444',
                    yAxisID: 'y1',
                    tension: 0.2
                },
                {
                    label: 'AFP (å·¦è½´1)',
                    data: [233, 398, 437, 239, 134, 49, 22.5],
                    borderColor: '#2563eb',
                    backgroundColor: '#2563eb',
                    yAxisID: 'y',
                    tension: 0.2
                },
                {
                    label: 'AFP-L3% (å·¦è½´2-ç™¾åˆ†æ¯”)',
                    data: [null, null, null, null, 38.8, 32.4, null],
                    borderColor: '#8b5cf6',
                    backgroundColor: '#8b5cf6',
                    borderDash: [5, 5],
                    yAxisID: 'y2',
                    tension: 0.2,
                    pointStyle: 'rectRot',
                    pointRadius: 6
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: { mode: 'index', intersect: false },
            scales: {
                y: { type: 'linear', position: 'left', title: {display:true, text:'AFP'} },
                y2: {
                    type: 'linear',
                    position: 'left',
                    min: 0,
                    max: 100,
                    title: { display: false, text: 'AFP-L3 (%)' },
                    grid: { drawOnChartArea: false },
                    ticks: { callback: function(value) { return value + '%'; } }
                },
                y1: { type: 'logarithmic', position: 'right', title: {display:true, text:'PIVKA-II'}, grid: {drawOnChartArea: false} }
            }
        }
    });

    // 2. è‚åŠŸèƒ½
    new Chart(document.getElementById('liverChart'), {
        type: 'bar',
        data: {
            labels: dates,
            datasets: [
                { label: 'ALT', data: [18, 15, 20, 15.5, 25, 25, 26], backgroundColor: '#3b82f6', barPercentage: 0.9, categoryPercentage: 0.55, order: 1 },
                { label: 'AST', data: [24, 19, 19.3, 35.8, 42, 30, 29], backgroundColor: '#93c5fd', barPercentage: 0.9, categoryPercentage: 0.55, order: 1 },
                { label: 'æ€»èƒ†çº¢ç´ ', type:'line', data: [21.7, 13.5, 14.9, 14.5, 24.0, 17.2, 24.1], borderColor: '#8b5cf6', order: 0 },
                // Added datasets
                { label: 'ç™½è›‹ç™½', type:'line', data: [50.8, 52.5, 46.1, 44.2, 44.8, 45.4, 49.1], borderColor: '#10b981', tension: 0.3, order: 0 },
                { label: 'INR (å³è½´)', type:'line', data: [null, 1.06, 1.05, null, 1.07, 1.11, 1.12], borderColor: '#f59e0b', tension: 0.3, yAxisID: 'y1', order: 0 }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { type: 'linear', position: 'left', title: {display:true, text:'æ•°å€¼'} },
                y1: { type: 'linear', position: 'right', title: {display:true, text:'INR'}, grid: {drawOnChartArea: false} }
            }
        }
    });

    // 3. å…ç–« (æ·‹å·´ vs ä¸­æ€§)
    new Chart(document.getElementById('immuneChart'), {
        type: 'line',
        data: {
            labels: dates,
            datasets: [
                {
                    label: 'æ·‹å·´ç»†èƒ (#)',
                    data: [0.66, 0.45, 0.59, 0.27, 0.20, 0.13, 0.19],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    fill: true,
                    tension: 0.3
                },
                {
                    label: 'ä¸­æ€§ç²’ç»†èƒ (#)',
                    data: [1.68, 1.87, 1.37, 2.25, 2.69, 2.09, 1.93],
                    borderColor: '#f59e0b',
                    borderDash: [5,5],
                    tension: 0.3
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 0.8,
                            yMax: 0.8,
                            borderColor: 'gray',
                            borderWidth: 1,
                            label: { content: 'PD-1å¯åŠ¨è­¦æˆ’çº¿', enabled: true, position: 'end' }
                        }
                    }
                }
            }
        }
    });

    // 4. è¡€å°æ¿
    new Chart(document.getElementById('pltChart'), {
        type: 'line',
        data: {
            labels: dates,
            datasets: [{
                label: 'è¡€å°æ¿ (PLT)',
                data: [108, 137, 121, 139, 159, 140, 106],
                borderColor: '#ec4899',
                backgroundColor: 'rgba(236, 72, 153, 0.1)',
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                annotation: {
                    annotations: {
                        line1: { type: 'line', yMin: 75, yMax: 75, borderColor: 'red', borderWidth: 2, label: { content: 'å‡é‡è­¦æˆ’çº¿', enabled: true } }
                    }
                }
            },
            scales: { y: { beginAtZero: false, min: 0 } }
        }
    });
</script>

</body>
</html>
